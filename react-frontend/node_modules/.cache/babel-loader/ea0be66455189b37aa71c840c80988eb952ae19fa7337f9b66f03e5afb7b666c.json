{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tadiwa.muguta\\\\Desktop\\\\Projects\\\\Finance Management\\\\financial_management_app\\\\react-frontend\\\\src\\\\Components\\\\Report.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Sidebar from \"./Sidebar\";\nimport TopNav from \"./TopNav\";\nimport '../Styling/Report.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Report() {\n  _s();\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [month, setMonth] = useState(new Date().getMonth() + 1);\n  const [windowWidth, setWindowWidth] = React.useState(window.innerWidth);\n  const handleDownload = async () => {\n    try {\n      const response = await axios.get(`http://localhost:8080/reports/download`, {\n        params: {\n          year,\n          month\n        },\n        responseType: 'blob'\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", `Monthly_Report_${year}_${month}.xlsx`);\n      document.body.appendChild(link);\n      link.click();\n    } catch (error) {\n      console.error(\"Download failed: \", error);\n    }\n  };\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reportContainer\",\n    children: [windowWidth > 650 ? /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 34\n    }, this) : /*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 48\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reportContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Download Monthly Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formGroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Year:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: year,\n          onChange: e => setYear(e.target.value),\n          min: \"2000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formGroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Month:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: month,\n          onChange: e => setMonth(e.target.value),\n          min: \"1\",\n          max: \"12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownload,\n        children: \"Download Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n_s(Report, \"PcDZykLs5UN95QDiNNQw0UpW9pE=\");\n_c = Report;\nexport default Report;\nvar _c;\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"names":["React","useEffect","useState","axios","Sidebar","TopNav","jsxDEV","_jsxDEV","Report","_s","year","setYear","Date","getFullYear","month","setMonth","getMonth","windowWidth","setWindowWidth","window","innerWidth","handleDownload","response","get","params","responseType","url","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","error","console","handleResize","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","min","max","onClick","_c","$RefreshReg$"],"sources":["C:/Users/tadiwa.muguta/Desktop/Projects/Finance Management/financial_management_app/react-frontend/src/Components/Report.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport TopNav from \"./TopNav\";\r\nimport '../Styling/Report.css';\r\n\r\nfunction Report() {\r\n    const [year, setYear] = useState(new Date().getFullYear());\r\n    const [month, setMonth] = useState(new Date().getMonth() + 1);\r\n    const [windowWidth, setWindowWidth] = React.useState(window.innerWidth);\r\n\r\n    const handleDownload = async () => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:8080/reports/download`, {\r\n                params: { year, month },\r\n                responseType: 'blob'\r\n            });\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement(\"a\");\r\n            link.href = url;\r\n            link.setAttribute(\"download\", `Monthly_Report_${year}_${month}.xlsx`);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        } catch (error) {\r\n            console.error(\"Download failed: \", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setWindowWidth(window.innerWidth);\r\n        };\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"reportContainer\">\r\n            {/* Conditional rendering of Sidebar or TopNav */}\r\n            {windowWidth > 650 ? <Sidebar /> : <TopNav />}\r\n\r\n            {/* Right Content Area */}\r\n            <div className=\"reportContent\">\r\n                <h2>Download Monthly Report</h2>\r\n                <div className=\"formGroup\">\r\n                    <label>Year:</label>\r\n                    <input type=\"number\" value={year} onChange={(e) => setYear(e.target.value)} min=\"2000\" />\r\n                </div>\r\n                <div className=\"formGroup\">\r\n                    <label>Month:</label>\r\n                    <input type=\"number\" value={month} onChange={(e) => setMonth(e.target.value)} min=\"1\" max=\"12\" />\r\n                </div>\r\n                <button onClick={handleDownload}>Download Report</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Report;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}